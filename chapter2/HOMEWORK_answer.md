// prettier-ignore

## Königsberg Problem

a,c,d

## Matrix Formalism

- degree vector $k$は各列の和、あるいは各行の和に等しい。
  $$k = A \cdot \boldsymbol{1}$$
- 総リンク数 L は、$k_1$から$k_N$までの和。つまり
  $$ L = \boldsymbol{1} \cdot k$$
- ネットワーク内の三角があれば、あるノードから距離 2 でそのノード自身に到達すると言える。一つの三角形あたり、関与する 3 つのノードからそれぞれ重複でカウントされ、かつ右回りと左回りの二つで重複するので、あるノードから距離 2 でそのノード自身に到達する経路の数を 6 で割ればよい。つまり、
  $$ T = trace(A^2 )$$
- 最近接次数ベクトル $k_{nn}$ は、あるノードから距離 2 の経路数の合計と等しい。
  $$ k\_{nn} = A^2\cdot \boldsymbol{1}$$
- second neigbors とは、second order neighbors のことと考える。第二近接次数ベクトル $k_{nnn}$は、

## Graph Representation

- 隣接行列

  $$
  A_a = \begin{bmatrix}
  0 & 1 & 1 & 1 & 0 & 1 \\
  1 & 0 & 1 & 1 & 0 & 0 \\
  1 & 1 & 0 & 0 & 0 & 1 \\
  1 & 1 & 0 & 0 & 0 & 0 \\
  0 & 0 & 0 & 0 & 0 & 0 \\
  1 & 0 & 1 & 0 & 0 & 0 \\
  \end{bmatrix}

  A_b = \begin{bmatrix}
  0 & 1 & 0 & 0 & 0 & 0 \\
  0 & 0 & 1 & 1 & 0 & 0 \\
  1 & 1 & 0 & 0 & 0 & 0 \\
  1 & 0 & 0 & 0 & 0 & 0 \\
  0 & 0 & 0 & 0 & 0 & 0 \\
  1 & 0 & 1 & 0 & 0 & 0 \\
  \end{bmatrix}
  $$

- リンクリスト

```
l1 = [1,2][1,3][1,4][1,6][2,1][2,3][2,4][3,1][3,2][3,6][4,1][4,2][6,1][6,3]
l2 = [1,2][2,3][2,4][3,1][3,2][4,1][6,1][6,3]
```

- 平均クラスター係数は 0.37 である

- 隣接行列から読み取れて、リンクリストから読み取れないことは、1. 重みの情報、2. 有向グラフか無向グラフかどうかである。隣接行列であれば対称行列になっているかどうかからすぐにわかる。また以下の要素も、特にリンクリストがソートされていないときには計算に時間がかかる。

  - あるノードの入次数、出次数
  - 孤立ノードの個数
  - ある二つのノードを結ぶ特定のエッジが存在するかどうか

- ノード 1 から 3 へ 3 ステップで行く経路数$l$は
  $$ l_a = 4, l_b = 3$$

## Degree, Clustering Coefficient and Components

全ノードが次数が 1、つまり複数の孤立したノード対が存在しているネットワークである。

- N は偶数でなければならない
- k=1 で p(k) = 1 となる分布
- N/2 個の塊に分かれている

全ノードの次数が 2 かつクラスター係数が 1、つまり(2.15)式から、$L_i$ = 1.つまり

- どのノードも三角形の孤立したクラスターを形成している。
- N は 3 の倍数である必要がある。

## Bipartite Networks

- 二つの集合を a と b とすると、隣接行列$A$は、それぞれの集合内の要素とリンクを持たないため、ブロック行列$B$を用いて

  $$
  A_a = \begin{bmatrix}
    O & B \\
    B^T & O \\
    \end{bmatrix}
  $$

  と表せる。

  $$
    B = \begin{bmatrix}
    1 & 0 & 0 & 0 & 0  \\
    0 & 0 & 1 & 0 & 0  \\
    1 & 1 & 1 & 0 & 0  \\
    0 & 0 & 1 & 1 & 0  \\
    0 & 0 & 1 & 0 & 1  \\
    0 & 0 & 0 & 0 & 1  \\
    \end{bmatrix}
  $$

- 隣接行列はそれぞれ 6 次と 5 次。

  $$
        A_{purple} = \begin{bmatrix}
        0 & 0 & 1 & 0 & 0 & 0 \\
        0 & 0 & 1 & 1 & 1 & 0 \\
        1 & 1 & 0 & 1 & 1 & 0 \\
        0 & 1 & 1 & 0 & 1 & 0 \\
        0 & 1 & 1 & 1 & 0 & 1 \\
        0 & 0 & 0 & 0 & 1 & 0 \\
        \end{bmatrix}

          A_{green} = \begin{bmatrix}
        0 & 1 & 1 & 0 & 0  \\
        1 & 0 & 1 & 0 & 0  \\
        1 & 1 & 0 & 1 & 1  \\
        0 & 0 & 1 & 0 & 0  \\
        0 & 0 & 1 & 0 & 0  \\
        \end{bmatrix}
  $$

## Bipartite Networks - General Considerations

- N1 個のノードがそれぞれ相手の集合の要素 N2 個とだけ繋がれ、それで取り尽くされているので、
  $$L_{max} = N_1 \times N_2$$
- 二部グラフではないネットワークで完全グラフを作ると
  $$ L = \frac{1}{2} (N_1 +N_2)(N_1+N_2 - 1) $$
  個のリンクが作れる。先ほどの最大リンク数との差をとって,
  $$ \frac{N_1(N_1 -1)+N_2(N_2 - 1)}{2} $$

- 定義上 2 部グラフでは孤立点を含んでも構わないが、集合を作る際に一般的には孤立点を含まないグラフを想定することが多い。したがって、$N_1 << N_2 $ の時、問いで定義されているネットワーク密度は最低でも $\frac{1}{N_1}$ 、であり、最大で 1。

- 2 部グラフのそれぞれの集合から伸びるリンクは全てもう一方の集合のノードに接続しているはずだから、総数はそれぞれの集合で等しい。つまり
  $$ \sum_{i} k_{1i} = \sum_{i} k_{2i}$$
  また
  $$ <k> = \frac{\sum_{i} k_{i}}{N}$$
  であるから、以上の二式より
  $$ N_1 \langle k_1 \rangle =N_2 \langle k_2 \rangle

